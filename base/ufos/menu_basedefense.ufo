// ==================
// BASE DEFENSE MENU
// ==================
menu basedefense
{
	// ==================
	// don't render
	// ==================

	zone render
	{
		invis false
	}

	// ==================
	// background
	// ==================

	pic back_ul
	{
		image	menu/basedefense_ul
		pos		"0 0"
	}

	pic back_ur
	{
		image	menu/basedefense_ur
		pos		"512 0"
	}

	pic back_ll
	{
		image	menu/basedefense_ll
		pos		"0 512"
	}

	pic back_lr
	{
		image	menu/basedefense_lr
		pos		"512 512"
	}

	// ==================
	// buttons
	// ==================

	func basedef_reset
	{
		*basedef_button_missile_str		color "1 1 1 0.6"
		*basedef_button_laser_str		color "1 1 1 0.6"
		*basedef_header3				invis true
	}

	func basedef_initnodevalues
	{
		*basedef_button_missile_str		color "1 1 1 1"
		*basedef_button_laser_str		color "1 1 1 0.6"
		*basedef_header3				invis false
	}

	func basedef_missile
	{
		cmd "basedef_initzone 0;"
		basedef_reset
		*basedef_button_missile_str color "1 1 1 1"
		*basedef_header3 invis false
	}

	func basedef_laser
	{
		cmd "basedef_initzone 1;"
		basedef_reset
		*basedef_button_laser_str color "1 1 1 1"
	}

	func basedef_zone1
	{
		cmd "airequip_zone_select 1;basedef_initzone;"
	}
	func basedef_zone2
	{
		cmd "airequip_zone_select 2;basedef_initzone;"
	}
	func basedef_zone3
	{
		cmd "airequip_zone_select 3;basedef_initzone 2;"
	}

	text basedef_slot_list
	{
		pos	"40 30"
		size	"400 600"
//		bgcolor	"1 1 1 0.5"
		format	"22 0"
		wheel
		height	"27"
		num 42
		mousefx	true
		click
	}

	pic basedef_selected_slot
	{
		tooltip	"_Your are changing this defense system"
		mousefx	true
		pos		"25 30"
		image	menu/buttons_small
		texl	"23 16"
		texh	"31 32"
	}

	string basedef_available
	{
		string	"_Available defense:"
		pos		"880 441"
		font	f_big
		align	uc
	}

	text basedef_selected_description
	{
		pos	"474 630"
		size	"400 120"
		format	"20 0"
//		bgcolor	"1 1 1 0.5"
		height	"6"
	}

	model mdl_top
	{
		md2		"*cvar mn_upmodel_top"
		angles	"0 0 120"
		color	"0.5 0.5 0.5 1"
		origin	"600 545 0"
		pos		"500 500"
		size	"200 200"
		mousefx	true
		click
	}

	string basedef_item_name
	{
		string	"*cvar mn_itemname"
		pos		"594 475"
		align	uc
	}

	string basedef_description
	{
		string	"_Selected defense:"
		pos		"594 441"
		font	f_big
		align	uc
	}

	pic basedef_button_missile
	{
		tooltip	"_Choose missile battery"
		invis	true
		mousefx	true
		pos		"50 710"
		image	menu/button_blue
		texl	"0 0"
		texh	"128 52"
		click	{ basedef_missile }
	}
	string basedef_button_missile_str
	{
		string "_Missile"
		invis	true
		pos		"114 736"
		align	cc
	}

	pic basedef_button_laser
	{
		tooltip	"_Choose laser battery"
		invis	true
		mousefx	true
		pos		"288 710"
		image	menu/button_blue
		texl	"0 0"
		texh	"128 52"
		click	{ basedef_laser }
	}

	string basedef_button_laser_str
	{
		string "_Laser"
		invis	true
		pos		"352 736"
		align	cc
	}

	text baseequip_list
	{
		pos	"756 480"
		size	"252 220"
//		bgcolor	"1 1 1 0.5"
		format	"20 0"
		wheel
		height	"11"
		num 1
		mousefx	true
		click
	}

	// ==================
	// Zones
	// ==================

	pic basedef_button_add1
	{
		tooltip	"_Install selected defense system"
		mousefx	true
		pos		"467 40"
		image	menu/button_aircraft_menu
		texl	"0 0"
		texh	"36 32"
		click { cmd "airequip_add_item 1;" }
	}

	pic basedef_button_remove1
	{
		tooltip	"_Remove this defense system"
		mousefx	true
		pos		"467 75"
		image	menu/button_aircraft_menu
		texl	"37 0"
		texh	"73 32"
		click { cmd "airequip_del_item 1;" }
	}

	pic basedef_button_add2
	{
		tooltip	"_Install selected defense system"
		mousefx	true
		pos		"467 174"
		image	menu/button_aircraft_menu
		texl	"0 0"
		texh	"36 32"
		click { cmd "airequip_add_item 2;" }
	}

	pic basedef_button_remove2
	{
		tooltip	"_Remove this defense system"
		mousefx	true
		pos		"467 209"
		image	menu/button_aircraft_menu
		texl	"37 0"
		texh	"73 32"
		click { cmd "airequip_del_item 2;" }
	}

	pic basedef_button_add3
	{
		tooltip	"_Equip this defense system with selected ammo"
		mousefx	true
		pos		"467 308"
		image	menu/button_aircraft_menu
		texl	"0 0"
		texh	"36 32"
		click { cmd "airequip_add_item 3;" }
	}

	pic basedef_button_remove3
	{
		tooltip	"_Remove ammo from this defense system"
		mousefx	true
		pos		"467 343"
		image	menu/button_aircraft_menu
		texl	"37 0"
		texh	"73 32"
		click { cmd "airequip_del_item 3;" }
	}

	pic airequip_zone_select1
	{
		invis false
		tooltip	"_Choose defense system to build"
		mousefx	true
		pos		"534 30"
		image	menu/button_big_menu
		texl	"0 0"
		texh	"458 82"
		click	{ basedef_zone1 }
	}

	text basedef_text_zone1
	{
		pos	"546 70"
		size	"430 35"
		format	"16 0"
//		bgcolor	"1 1 1 0.5"
		num 39
		height	"2"
	}

	pic airequip_zone_select2
	{
		invis false
		tooltip	"_Choose defense system to build after removing current one"
		mousefx	true
		pos		"534 164"
		image	menu/button_big_menu
		texl	"0 0"
		texh	"458 82"
		click	{ basedef_zone2 }
	}

	text basedef_text_zone2
	{
		pos	"546 204"
		size	"430 35"
		format	"16 0"
//		bgcolor	"1 1 1 0.5"
		num 40
		height	"2"
	}

	pic airequip_zone_select3
	{
		invis false
		tooltip	"_Change ammo in the defense system"
		mousefx	true
		pos		"534 300"
		image	menu/button_big_menu
		texl	"0 0"
		texh	"458 82"
		click	{ basedef_zone3 }
	}

	text basedef_text_zone3
	{
		pos	"546 339"
		size	"430 35"
		format	"16 0"
//		bgcolor	"1 1 1 0.5"
		num 41
		height	"2"
	}

	string basedef_header1
	{
		string	"_Current defense system"
		pos		"545 50"
		font	f_small
		color	"0 .78 0 1"
		align	cl
	}

	string basedef_header2
	{
		string	"_System to install after removal"
		pos		"545 185"
		font	f_small
		color	"0 .78 0 1"
		align	cl
	}

	string basedef_header3
	{
		string	"_Ammo to use with installed system"
		pos		"545 320"
		font	f_small
		color	"0 .78 0 1"
		align	cl
	}

	// ==================
	// additional stuff
	// ==================

	pic button_leave
	{
		tooltip	"_Done"
		image	hud/buttons2
		mousefx	true
		pos		"940 720"
		texl	"0 0"
		texh	"64 37"
		click	{ cmd "mn_pop;"  }
	}

	func init
	{
		basedef_initnodevalues
		cmd "basedef_initmenu;basedef_initzone 0;airequip_zone_select 1;"
	}

	func close
	{
	}
}
